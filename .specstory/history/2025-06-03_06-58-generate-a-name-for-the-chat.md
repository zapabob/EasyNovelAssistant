<!-- Generated by SpecStory -->

# Generate a name for the chat (2025-06-03 15:58:48)

_**User**_



---

_**Assistant**_



---

現在、PyTorchとtorchvisionのバージョン不整合によるエラーが発生していますね。このエラーは、PyTorchのセキュリティ修正でアップグレードした際に、torchvisionとの互換性が崩れたことが原因です。

まず、現在のPyTorchとtorchvisionのバージョンを確認し、互換性のある組み合わせに修正しましょう。

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | findstr torch
```

```
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main>  




























PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd Style-Bert-VITS2 ; .\venv\Sc
ripts\activate ; pip list | findstr torch
```

---

torchのパッケージが見つからないようです。PowerShellで`findstr`の代わりに`Select-String`を使用しましょう。

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
cd : パス 'C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2\Style-
Bert-VITS2' が存在しないため検出できません。
発生場所 行:1 文字:1
+ cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-Str ...
+ ~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (C:\Users\downl\...tyle-Bert-VITS2:String) [Set-Location], I

    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.SetLocationCommand
WARNING: Ignoring invalid distribution ~orch (C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssi
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)

pytorch-lightning       2.5.1.post0
pytorch-metric-learning 2.8.1
torch                   2.5.1+cu121
torch-audiomentations   0.12.0
torch_pitch_shift       1.2.5
torchaudio              2.3.1+cu121
torchmetrics            1.7.2
torchvision             0.18.1+cu121



```

---

問題が見つかりました！PyTorchとtorchvisionのバージョンに互換性がありません：

- `torch`: 2.5.1+cu121
- `torchvision`: 0.18.1+cu121  
- `torchaudio`: 2.3.1+cu121

これらのバージョンが一致していないため、`torchvision::nms`エラーが発生しています。互換性のあるバージョンにアップデートしましょう。

---

```bash
pip install --upgrade torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

```
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main>  




























PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd Style-Bert-VITS2 ; .\venv\Sc
ripts\activate ; pip list | findstr torch
WARNING: Ignoring invalid distribution ~orch (C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssi
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)
pytorch-lightning       2.5.1.post0
pytorch-metric-learning 2.8.1
torch                   2.5.1+cu121
torch-audiomentations   0.12.0
torch_pitch_shift       1.2.5
torchaudio              2.3.1+cu121
torchmetrics            1.7.2
torchvision             0.18.1+cu121
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
cd : パス 'C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2\Style-
Bert-VITS2' が存在しないため検出できません。
発生場所 行:1 文字:1
+ cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-Str ...
+ ~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (C:\Users\downl\...tyle-Bert-VITS2:String) [Set-Location], I

    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.SetLocationCommand
WARNING: Ignoring invalid distribution ~orch (C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssi
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)

pytorch-lightning       2.5.1.post0
pytorch-metric-learning 2.8.1
torch                   2.5.1+cu121
torch-audiomentations   0.12.0
torch_pitch_shift       1.2.5
torchaudio              2.3.1+cu121
torchmetrics            1.7.2
torchvision             0.18.1+cu121


(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins
tall --upgrade torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://down
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins


```

---

コマンドが中断されてしまいました。PyTorchライブラリの修復を行いましょう。まず、破損している可能性のあるパッケージを削除してから再インストールします。

---

```bash
pip uninstall torch torchvision torchaudio -y
```

```
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)
-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (3.1.6)
Requirement already satisfied: fsspec in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (2025.5.1)
Requirement already satisfied: setuptools in c:\users\downl\downloads\easynovelassistant-main\easynovelassis
tant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (80.9.0)
Requirement already satisfied: sympy==1.13.1 in c:\users\downl\downloads\easynovelassistant-main\easynovelas
sistant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (1.13.1)
Requirement already satisfied: numpy in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant-
main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (1.26.4)
Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in c:\users\downl\downloads\easynovelassistant-main\eas
ynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (11.2.1)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from sympy==1.13.1->torch==2.5.1+cu121) (1.3.0)
Requirement already satisfied: MarkupSafe>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from jinja2->torch==2.5.1+cu121) (3.0.2)
WARNING: Ignoring invalid distribution ~orch (C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssi
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)
Installing collected packages: torchvision, torchaudio
  Attempting uninstall: torchvision
    Found existing installation: torchvision 0.18.1+cu121
    Uninstalling torchvision-0.18.1+cu121:
      Successfully uninstalled torchvision-0.18.1+cu121
  Attempting uninstall: torchaudio
    Uninstalling torchaudio-2.3.1+cu121:
WARNING: Ignoring invalid distribution ~orch (C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssi
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)
Successfully installed torchaudio-2.5.1+cu121 torchvision-0.20.1+cu121
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip uni
nstall torch torchvision torchaudio -y

```

---

良い進展です！torchvisionとtorchaudioは更新されました。今度は破損した"~orch"パッケージも含めて全てのPyTorchパッケージを完全に削除し、クリーンインストールしましょう。

---

```bash
pip uninstall torch torchvision torchaudio pytorch-lightning pytorch-metric-learning torch-audiomentations torch_pitch_shift torchmetrics -y
```

```
Found existing installation: torch 2.5.1+cu121
Uninstalling torch-2.5.1+cu121:
  Successfully uninstalled torch-2.5.1+cu121
Found existing installation: torchvision 0.20.1+cu121
Uninstalling torchvision-0.20.1+cu121:
  Successfully uninstalled torchvision-0.20.1+cu121
stant-main\Style-Bert-VITS2\venv\Lib\site-packages)
Successfully installed torchaudio-2.5.1+cu121 torchvision-0.20.1+cu121
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip uni
nstall torch torchvision torchaudio -y
Found existing installation: torch 2.5.1+cu121
Uninstalling torch-2.5.1+cu121:
  Successfully uninstalled torch-2.5.1+cu121
Found existing installation: torchvision 0.20.1+cu121
Uninstalling torchvision-0.20.1+cu121:
  Successfully uninstalled torchvision-0.20.1+cu121
Uninstalling torchaudio-2.5.1+cu121:
  Successfully uninstalled torchaudio-2.5.1+cu121
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip uni
nstall torch torchvision torchaudio pytorch-lightning pytorch-metric-learning torch-audiomentations torch_pi
tch_shift torchmetrics -y

```

---

ほぼ削除されました。破損した"~orch"パッケージを手動で削除してから、PyTorchを再インストールしましょう。

---

```bash
Remove-Item -Recurse -Force ".\venv\Lib\site-packages\~orch*" -ErrorAction SilentlyContinue
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> Remove-
                                                                                                           -
Item -Recurse -Force ".\venv\Lib\                                                                    Remove-
Item -Recurse -Force ".\venv\Lib\site-packages\~orch*" -ErrorAction SilentlyContinue
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

良いです！今度は、互換性のあるPyTorchライブラリを再インストールしましょう。

---

```bash
pip install torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

```
tall torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytor
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins
tall torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytor
ch.org/whl/cu121

```

---

インストールが開始されました。インストール状況を確認しましょう。

---

```bash
pip list | Select-String torch
```

```
MB)
Collecting torchvision==0.20.1+cu121
  Using cached https://download.pytorch.org/whl/cu121/torchvision-0.20.1%2Bcu121-cp312-cp312-win_amd64.whl (
6.1 MB)
Collecting torchaudio==2.5.1+cu121
  Using cached https://download.pytorch.org/whl/cu121/torchaudio-2.5.1%2Bcu121-cp312-cp312-win_amd64.whl (4.
1 MB)
Requirement already satisfied: filelock in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (3.18.0)
Requirement already satisfied: typing-extensions>=4.8.0 in c:\users\downl\downloads\easynovelassistant-main\
easynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (4.14.0)
Requirement already satisfied: networkx in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (3.5)
Requirement already satisfied: jinja2 in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (3.1.6)
Requirement already satisfied: fsspec in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (2025.5.1)
Requirement already satisfied: setuptools in c:\users\downl\downloads\easynovelassistant-main\easynovelassis
tant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121) (80.9.0)
main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (1.26.4)
Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in c:\users\downl\downloads\easynovelassistant-main\eas
ynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (11.2.1)      
Requirement already satisfied: mpmath<1.4,>=1.1.0 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from sympy==1.13.1->torch==2.5.1+cu121) (1.3.0)  
Requirement already satisfied: MarkupSafe>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from jinja2->torch==2.5.1+cu121) (3.0.2)
Installing collected packages: torch, torchvision, torchaudio
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 0/3 [torch]
```

---

インストールが進行中です。しばらく待ってから完了を確認しましょう。

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
```

```
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc

```

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activa                                                                 cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activate ; pip list | Select-String torch
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

環境が既に有効化されているようです。PyTorchパッケージの状況を確認しましょう。

---

```bash
pip list | Select-String torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> 

```

---

出力がない場合、PyTorchが削除されたままの可能性があります。再度インストールしましょう。

---

```bash
pip install torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip ins
tall torch==2.5.1+cu121 torchvision==0.20.1                                                          pip ins
tall torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https          pip ins
tall torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytor
ch.org/whl/cu1                                                                                       pip ins
tall torch==2.5.1+cu121 torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytor
ch.org/whl/cu121
Looking in indexes: https://download.pytorch.org/whl/cu121
Collecting torch==2.5.1+cu121
  Using cached https://download.pytorch.org/whl/cu121/torch-2.5.1%2Bcu121-cp312-cp312-win_amd64.whl (2449.3 
MB)
```

---

PyTorchの大きなファイル（2.4GB）をダウンロード中です。インストールが完了するまで少し待ちましょう。その間に、transformersパッケージも更新する必要があるかもしれません。

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; echo "PyTorchインストール完了待機中..."
```

```
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Sty



























PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc
PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main> cd
Style-Bert-VITS2 ; .\venv\Sc

```

---

環境変数が設定されました。PyTorchのインストール状況を確認しましょう。

---

```bash
pip list | Select-String torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip lis
t | Select-String torch

torch                   2.5.1+cu121


(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

PyTorchはインストールされましたが、torchvisionとtorchaudioがまだインストールされていません。これらもインストールしましょう。

---

```bash
pip install torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
```

```
tall torchvision==0.20.1+cu121 tor                                                                   pip ins
tall torchvision==0.20.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
Looking in indexes: https://download.pytorch.org/whl/cu121
Requirement already satisfied: torchvision==0.20.1+cu121 in c:\users\downl\downloads\easynovelassistant-main
\easynovelassistant-main\style-bert-vits2\venv\lib\site-packages (0.20.1+cu121)
Collecting torchaudio==2.5.1+cu121
  Using cached https://download.pytorch.org/whl/cu121/torchaudio-2.5.1%2Bcu121-cp312-cp312-win_amd64.whl (4.
1 MB)
Requirement already satisfied: numpy in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant-
main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (1.26.4)
Requirement already satisfied: torch==2.5.1+cu121 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (2.5.1+cu121)
Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in c:\users\downl\downloads\easynovelassistant-main\eas
ynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torchvision==0.20.1+cu121) (11.2.1)
Requirement already satisfied: filelock in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121->torchvision==0.20.1+cu121) (3.18.0
)
Requirement already satisfied: typing-extensions>=4.8.0 in c:\users\downl\downloads\easynovelassistant-main\
easynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121->torchvision==0.20.
.0)
Requirement already satisfied: sympy==1.13.1 in c:\users\downl\downloads\easynovelassistant-main\easynovelas
sistant-main\style-bert-vits2\venv\lib\site-packages (from torch==2.5.1+cu121->torchvision==0.20.1+cu121) (1
.13.1)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from sympy==1.13.1->torch==2.5.1+cu121->torchvisi
on==0.20.1+cu121) (1.3.0)
Requirement already satisfied: MarkupSafe>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from jinja2->torch==2.5.1+cu121->torchvision==0.20.1
+cu121) (3.0.2)
Installing collected packages: torchaudio
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. T
his behaviour is the source of the following dependency conflicts.
pyannote-audio 3.3.2 requires pytorch-metric-learning>=2.1.0, which is not installed.
pyannote-audio 3.3.2 requires torch-audiomentations>=0.11.0, which is not installed.
pyannote-audio 3.3.2 requires torchmetrics>=0.11.0, which is not installed.
Successfully installed torchaudio-2.5.1+cu121

```

---

いくつかの依存関係の警告がありますが、PyTorchの基本セットのインストールは完了しました。必要な追加パッケージをインストールしましょう。

---

```bash
pip install pytorch-metric-learning>=2.1.0 torch-audiomentations>=0.11.0 torchmetrics>=0.11.0
```

```
tall pytorch-metric-learning>=2.1.0 torch-audiomentations>=0.11.0 torchmetrics>=0.11.0
Collecting pytorch-metric-learning>=2.1.0
  Using cached pytorch_metric_learning-2.8.1-py3-none-any.whl.metadata (18 kB)
Collecting torch-audiomentations>=0.11.0
  Using cached torch_audiomentations-0.12.0-py3-none-any.whl.metadata (15 kB)
Collecting torchmetrics>=0.11.0
  Using cached torchmetrics-1.7.2-py3-none-any.whl.metadata (21 kB)
Requirement already satisfied: numpy in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant-
Requirement already satisfied: torch>=1.6.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelass
istant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-metric-learning>=2.1.0) (2.5.1+cu121)
Requirement already satisfied: tqdm in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant-m
ain\style-bert-vits2\venv\lib\site-packages (from pytorch-metric-learning>=2.1.0) (4.67.1)
Requirement already satisfied: julius<0.3,>=0.2.3 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from torch-audiomentations>=0.11.0) (0.2.7)
Requirement already satisfied: torchaudio>=0.9.0 in c:\users\downl\downloads\easynovelassistant-main\easynov
elassistant-main\style-bert-vits2\venv\lib\site-packages (from torch-audiomentations>=0.11.0) (2.5.1+cu121)
Collecting torch-pitch-shift>=1.2.2 (from torch-audiomentations>=0.11.0)
  Using cached torch_pitch_shift-1.2.5-py3-none-any.whl.metadata (2.5 kB)
Requirement already satisfied: packaging>17.1 in c:\users\downl\downloads\easynovelassistant-main\easynovela
ssistant-main\style-bert-vits2\venv\lib\site-packages (from torchmetrics>=0.11.0) (24.2)
Requirement already satisfied: lightning-utilities>=0.8.0 in c:\users\downl\downloads\easynovelassistant-mai
n\easynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from torchmetrics>=0.11.0) (0.14.3)
Requirement already satisfied: setuptools in c:\users\downl\downloads\easynovelassistant-main\easynovelassis
tant-main\style-bert-vits2\venv\lib\site-packages (from lightning-utilities>=0.8.0->torchmetrics>=0.11.0) (8
0.9.0)
Requirement already satisfied: typing_extensions in c:\users\downl\downloads\easynovelassistant-main\easynov
elassistant-main\style-bert-vits2\venv\lib\site-packages (from lightning-utilities>=0.8.0->torchmetrics>=0.1
1.0) (4.14.0)
Requirement already satisfied: filelock in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch>=1.6.0->pytorch-metric-learning>=2.1.0) (3.18.0)
Requirement already satisfied: networkx in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch>=1.6.0->pytorch-metric-learning>=2.1.0) (3.5)
Requirement already satisfied: jinja2 in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch>=1.6.0->pytorch-metric-learning>=2.1.0) (3.1.6)
Requirement already satisfied: fsspec in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch>=1.6.0->pytorch-metric-learning>=2.1.0) (2025.5.1)
Requirement already satisfied: sympy==1.13.1 in c:\users\downl\downloads\easynovelassistant-main\easynovelas
sistant-main\style-bert-vits2\venv\lib\site-packages (from torch>=1.6.0->pytorch-metric-learning>=2.1.0) (1.
13.1)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from sympy==1.13.1->torch>=1.6.0->pytorch-metric-
learning>=2.1.0) (1.3.0)
Requirement already satisfied: primePy>=1.3 in c:\users\downl\downloads\easynovelassistant-main\easynovelass
istant-main\style-bert-vits2\venv\lib\site-packages (from torch-pitch-shift>=1.2.2->torch-audiomentations>=0
.11.0) (1.3)
Requirement already satisfied: MarkupSafe>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from jinja2->torch>=1.6.0->pytorch-metric-learning>=
2.1.0) (3.0.2)
Requirement already satisfied: scipy>=1.6.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelass
istant-main\style-bert-vits2\venv\lib\site-packages (from scikit-learn->pytorch-metric-learning>=2.1.0) (1.1
5.3)
Requirement already satisfied: joblib>=1.2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelas
sistant-main\style-bert-vits2\venv\lib\site-packages (from scikit-learn->pytorch-metric-learning>=2.1.0) (1.
5.1)
Requirement already satisfied: threadpoolctl>=3.1.0 in c:\users\downl\downloads\easynovelassistant-main\easy
novelassistant-main\style-bert-vits2\venv\lib\site-packages (from scikit-learn->pytorch-metric-learning>=2.1
.0) (3.6.0)
Requirement already satisfied: colorama in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from tqdm->pytorch-metric-learning>=2.1.0) (0.4.6)
Using cached pytorch_metric_learning-2.8.1-py3-none-any.whl (125 kB)
Using cached torch_audiomentations-0.12.0-py3-none-any.whl (48 kB)
Using cached torchmetrics-1.7.2-py3-none-any.whl (962 kB)
Using cached torch_pitch_shift-1.2.5-py3-none-any.whl (5.0 kB)
Installing collected packages: torchmetrics, pytorch-metric-learning, torch-pitch-shift, torch-audiomentatio
ns
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. T
his behaviour is the source of the following dependency conflicts.
lightning 2.5.1.post0 requires pytorch-lightning, which is not installed.
Successfully installed pytorch-metric-learning-2.8.1 torch-audiomentations-0.12.0 torch-pitch-shift-1.2.5 to
rchmetrics-1.7.2

```

---

最後にpytorch-lightningもインストールしましょう。

---

```bash
pip install pytorch-lightning
```

```
tall pytorch-lightning
Collecting pytorch-lightning
  Using cached pytorch_lightning-2.5.1.post0-py3-none-any.whl.metadata (20 kB)
Requirement already satisfied: torch>=2.1.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelass
istant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-lightning) (4.67.1)
Requirement already satisfied: PyYAML>=5.4 in c:\users\downl\downloads\easynovelassistant-main\easynovelassi
stant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-lightning) (6.0.2)
Requirement already satisfied: fsspec>=2022.5.0 in c:\users\downl\downloads\easynovelassistant-main\easynove
lassistant-main\style-bert-vits2\venv\lib\site-packages (from fsspec[http]>=2022.5.0->pytorch-lightning) (20
25.5.1)
Requirement already satisfied: torchmetrics>=0.7.0 in c:\users\downl\downloads\easynovelassistant-main\easyn
ovelassistant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-lightning) (1.7.2)
Requirement already satisfied: packaging>=20.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-lightning) (24.2)
Requirement already satisfied: typing-extensions>=4.4.0 in c:\users\downl\downloads\easynovelassistant-main\
easynovelassistant-main\style-bert-vits2\venv\lib\site-packages (from pytorch-lightning) (4.14.0)
Requirement already satisfied: lightning-utilities>=0.10.0 in c:\users\downl\downloads\easynovelassistant-ma
2.5.0->pytorch-lightning) (1.20.0)
Requirement already satisfied: idna>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelassist
ant-main\style-bert-vits2\venv\lib\site-packages (from yarl<2.0,>=1.17.0->aiohttp!=4.0.0a0,!=4.0.0a1->fsspec
[http]>=2022.5.0->pytorch-lightning) (3.10)
Requirement already satisfied: setuptools in c:\users\downl\downloads\easynovelassistant-main\easynovelassis
tant-main\style-bert-vits2\venv\lib\site-packages (from lightning-utilities>=0.10.0->pytorch-lightning) (80.
9.0)
Requirement already satisfied: filelock in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch>=2.1.0->pytorch-lightning) (3.18.0)
Requirement already satisfied: networkx in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from torch>=2.1.0->pytorch-lightning) (3.5)
Requirement already satisfied: jinja2 in c:\users\downl\downloads\easynovelassistant-main\easynovelassistant
-main\style-bert-vits2\venv\lib\site-packages (from torch>=2.1.0->pytorch-lightning) (3.1.6)
Requirement already satisfied: sympy==1.13.1 in c:\users\downl\downloads\easynovelassistant-main\easynovelas
sistant-main\style-bert-vits2\venv\lib\site-packages (from torch>=2.1.0->pytorch-lightning) (1.13.1)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in c:\users\downl\downloads\easynovelassistant-main\easyno
velassistant-main\style-bert-vits2\venv\lib\site-packages (from sympy==1.13.1->torch>=2.1.0->pytorch-lightni
ng) (1.3.0)
Requirement already satisfied: numpy>1.20.0 in c:\users\downl\downloads\easynovelassistant-main\easynovelass
istant-main\style-bert-vits2\venv\lib\site-packages (from torchmetrics>=0.7.0->pytorch-lightning) (1.26.4)
Requirement already satisfied: colorama in c:\users\downl\downloads\easynovelassistant-main\easynovelassista
nt-main\style-bert-vits2\venv\lib\site-packages (from tqdm>=4.57.0->pytorch-lightning) (0.4.6)
Requirement already satisfied: MarkupSafe>=2.0 in c:\users\downl\downloads\easynovelassistant-main\easynovel
assistant-main\style-bert-vits2\venv\lib\site-packages (from jinja2->torch>=2.1.0->pytorch-lightning) (3.0.2
)
Using cached pytorch_lightning-2.5.1.post0-py3-none-any.whl (823 kB)
Installing collected packages: pytorch-lightning
Successfully installed pytorch-lightning-2.5.1.post0

```

---

素晴らしい！すべてのPyTorchパッケージがインストールされました。現在のインストール状況を確認し、Style-Bert-VITS2のserver_fastapi.pyが動作するかテストしましょう。

---

```bash
pip list | Select-String torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip lis
                                                                                                     pip lis
t | Select-String torch

pytorch-lightning       2.5.1.post0
torchaudio              2.5.1+cu121
torchmetrics            1.7.2
torchvision             0.20.1+cu121


(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

`torch`パッケージが表示されていません。確認しましょう。

---

```bash
pip list | findstr -i torch
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> pip lis
t | findstr -i torch
pytorch-lightning       2.5.1.post0
pytorch-metric-learning 2.8.1
torch                   2.5.1+cu121
torch-audiomentations   0.12.0
torch_pitch_shift       1.2.5
torchaudio              2.5.1+cu121
torchmetrics            1.7.2
torchvision             0.20.1+cu121
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

完璧です！すべてのPyTorchパッケージが適切にインストールされています：

- `torch`: 2.5.1+cu121
- `torchvision`: 0.20.1+cu121
- `torchaudio`: 2.5.1+cu121

これらのバージョンは互換性があります。今度はStyle-Bert-VITS2のサーバーが正常に起動するかテストしましょう。

---

```bash
python server_fastapi.py
```

---

サーバーが開始されました。少し待ってから、サーバーの状況を確認しましょう。

---

```bash
cd Style-Bert-VITS2 ; .\venv\Scripts\activate ; echo "Style-Bert-VITS2 サーバー状況確認..."
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activate ; ec                                                          cd Styl
e-Bert-VITS2 ; .\venv\Scripts\activate ; echo "Style-Bert-VITS2 サーバー状況確認..."                        (venv) P
S C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>        

```

---

バックグラウンドで実行中のサーバーのログを確認しましょう。

---

```bash
netstat -an | findstr ":7860"
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> netstat
 -an | findstr ":7860"
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---

ポート7860で実行中のサーバーが見つかりません。別のポートで実行されているか、エラーが発生した可能性があります。プロセスを確認しましょう。

---

```bash
Get-Process python -ErrorAction SilentlyContinue
```

```
(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2> Get-Pro
cess python -ErrorAction SilentlyContin                                                              Get-Pro
cess python -ErrorAction SilentlyContinue

Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName
-------  ------    -----      -----     ------     --  -- -----------
    554      63  1229956     127280     252.42   2744   1 python
    231      21    42392      22412       1.70  11720   1 python


(venv) PS C:\Users\downl\Downloads\EasyNovelAssistant-main\EasyNovelAssistant-main\Style-Bert-VITS2>
```

---



---



---



---



---



---



---



---

